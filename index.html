<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Verification Complete</title>

<!-- Firebase v10 (Firestore) -->
<script type="module">
import { initializeApp } from "https://www.gstatic.com/firebasejs/10.7.1/firebase-app.js";
import { getFirestore, doc, updateDoc } from "https://www.gstatic.com/firebasejs/10.7.1/firebase-firestore.js";

const firebaseConfig = {
  apiKey: "AIzaSyAg6NfWgN40ldKwoW4Bj_jofxKIApQMa3I",
  authDomain: "generate-94f07.firebaseapp.com",
  projectId: "generate-94f07",
  storageBucket: "generate-94f07.firebasestorage.app",
  messagingSenderId: "359253305682",
  appId: "1:359253305682:web:b9604f25ef5bf48148f28b"
};

const app = initializeApp(firebaseConfig);
const db = getFirestore(app);

/* GET TOKEN FROM URL */
const params = new URLSearchParams(window.location.search);
const token = params.get("token");

async function verifyUser() {
  if(!token){
    document.getElementById("status").innerText = "Invalid Verification Link";
    return;
  }

  try {
    await updateDoc(doc(db, "verifications", token), {
      verified: true
    });

    document.getElementById("status").innerText = "Verification Successful ✅";

    setTimeout(()=>{
      window.location.href = "https://YOUR-MAIN-SITE-URL.com";
    },2000);

  } catch(err){
    document.getElementById("status").innerText = "Verification Failed ❌";
  }
}

verifyUser();
</script>

<style>
body{
  margin:0;
  height:100vh;
  display:flex;
  align-items:center;
  justify-content:center;
  background:radial-gradient(circle at top,#1d0b33,#0a0612);
  color:white;
  font-family:Arial;
}
.card{
  background:#160a2b;
  padding:50px;
  border-radius:20px;
  text-align:center;
  box-shadow:0 30px 80px rgba(0,0,0,.8);
}
h1{
  color:#a855f7;
}
</style>
</head>

<body>
  <div class="card">
    <h1 id="status">Processing Verification...</h1>
  </div>
</body>
</html>
